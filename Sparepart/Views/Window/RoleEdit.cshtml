@model Sparepart.Models.masterrole

<form action="/Access/Update" method="post" id="EditFrm" onsubmit="return check (this)">
    <ul class="fieldlist">
        @Html.AntiForgeryToken()
        @Html.HiddenFor(m => m.RoleID)
        <li>
            @Html.Label("Nama Role")
            @Html.Kendo().TextBoxFor(m => m.NamaRole).Name("nama").HtmlAttributes(new { style = "width: 100%;", placeholder = "Nama Role", required = "required", validationmessage = "Input Role" })
        </li>

        <li>
            @(Html.Kendo().Grid<Sparepart.Models.hakaks>()
            .Name("EditGrid")
            .Columns(columns =>
            {
                columns.Bound(p => p.AksesID)
.HeaderTemplate("<input id='checkAllEdit' class='chkbx' type='checkbox' />")
.ClientTemplate("<input id='checkItem' class='chkbxq' type='checkbox' name='AksesIDs' value='#= AksesID #'/>")
.Sortable(false)
.Filterable(false)
.Width(30);
                columns.Bound(p => p.NamaMenu).Width(140);
            })
            .ToolBar(toolbar =>
            {
                toolbar.Template("Pilih Akses");
            }
            )
            .Sortable()
            .Scrollable()
            .Filterable()
            .DataSource(dataSource => dataSource
            .Ajax()
            .Model(model => model.Id(p => p.AksesID))
            .Read(read => read.Action("Access_Read", "Access"))
            )

            )
        </li>
        <li>
            <input class="k-button k-primary" name="submitButton" id="btnSave" style="margin-top: 2em; float: left;" value="Save" type="submit">
        </li>
    </ul>
</form>
<script type="text/javascript">
    $("#checkAllEdit").click(function () {
        $('input:checkbox').not(this).prop('checked', this.checked);
    });

    $("#EditFrm").kendoValidator({
        messages: {
            custom: function (input) {
                return $(input).parents().find('label').text();
            }
        },
        rules: {
            custom: function (input) {
                if (input.is("[data-role=dropdownlist]")) {

                    var ddVal = $('input[data-role=dropdownlist]').data('kendoDropDownList').value();
                    if (ddVal !== "" && ddVal !== "label") {
                        return true;
                    } else {
                        return false
                    }
                }
                return true
            }
        }
    });

    function check(f) {
        var e, i = 0, checked = false;
        while (e = f.elements[i++]) { if (e.type == 'checkbox' && e.checked) checked = true };
        if (!checked) alert('Please check one of the checkbox.');
        return checked;
    }
    </script>
